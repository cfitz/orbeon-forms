YAHOO.widget.TaskNode=function(d,c,a,b){YAHOO.widget.TaskNode.superclass.constructor.call(this,d,c,a);this.setUpCheck(b||d.checked)};YAHOO.extend(YAHOO.widget.TaskNode,YAHOO.widget.TextNode,{checked:false,checkState:0,_type:"TaskNode",taskNodeParentChange:function(){},setUpCheck:function(a){if(a&&a===true){this.check()}else{if(this.parent&&2===this.parent.checkState){this.updateParent()}}if(this.tree&&!this.tree.hasEvent("checkClick")){this.tree.createEvent("checkClick",this.tree)}this.tree.subscribe("clickEvent",this.checkClick);this.subscribe("parentChange",this.taskNodeParentChange)},getCheckElId:function(){return"ygtvcheck"+this.index},getCheckEl:function(){return document.getElementById(this.getCheckElId())},getCheckStyle:function(){return"ygtvcheck"+this.checkState},checkClick:function(b){var a=b.node;var c=YAHOO.util.Event.getTarget(b.event);if(YAHOO.util.Dom.hasClass(c,"ygtvspacer")){if(a.checkState===0){a.check()}else{a.uncheck()}a.onCheckClick(a);this.fireEvent("checkClick",a);return false}},onCheckClick:function(){},updateParent:function(){var e=this.parent;if(!e||!e.updateParent){return}var a=false;var d=false;for(var c=0,b=e.children.length;c<b;c=c+1){var f=e.children[c];if("checked" in f){if(f.checked){a=true;if(f.checkState===1){d=true}}else{d=true}}}if(a){e.setCheckState((d)?1:2)}else{e.setCheckState(0)}e.updateCheckHtml();e.updateParent()},updateCheckHtml:function(){if(this.parent&&this.parent.childrenRendered){this.getCheckEl().className=this.getCheckStyle()}},setCheckState:function(a){this.checkState=a;this.checked=(a>0)},check:function(){this.setCheckState(2);for(var b=0,a=this.children.length;b<a;b=b+1){var d=this.children[b];if(d.check){d.check()}}this.updateCheckHtml();this.updateParent()},uncheck:function(){this.setCheckState(0);for(var b=0,a=this.children.length;b<a;b=b+1){var d=this.children[b];if(d.uncheck){d.uncheck()}}this.updateCheckHtml();this.updateParent()},getContentHtml:function(){var a=[];a[a.length]="<td";a[a.length]=' id="'+this.getCheckElId()+'"';a[a.length]=' class="'+this.getCheckStyle()+'"';a[a.length]=">";a[a.length]='<div class="ygtvspacer"></div></td>';a[a.length]="<td><span";a[a.length]=' id="'+this.labelElId+'"';if(this.title){a[a.length]=' title="'+this.title+'"'}a[a.length]=' class="'+this.labelStyle+'"';a[a.length]=" >";a[a.length]=this.label;a[a.length]="</span></td>";return a.join("")}});