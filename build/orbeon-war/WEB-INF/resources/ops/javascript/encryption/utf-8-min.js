function unicode_to_utf8(b){var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<=127){a+=String.fromCharCode(d)}else{if((d>=128)&&(d<=2047)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a}function utf8_to_unicode(c){var e="",d=0,b,a,a;while(d<c.length){b=c.charCodeAt(d);if(b<128){e+=String.fromCharCode(b);d++}else{if((b>=192)&&(b<224)){a=c.charCodeAt(d+1);e+=String.fromCharCode(((b&31)<<6)|(a&63));d+=2}else{a=c.charCodeAt(d+1);b3=c.charCodeAt(d+2);e+=String.fromCharCode(((b&15)<<12)|((a&63)<<6)|(b3&63));d+=3}}}return e}function encode_utf8(b){var a,c=false;for(a=0;a<b.length;a++){if((b.charCodeAt(a)==157)||(b.charCodeAt(a)>255)){c=true;break}}if(!c){return b}return String.fromCharCode(157)+unicode_to_utf8(b)}function decode_utf8(a){if((a.length>0)&&(a.charCodeAt(0)==157)){return utf8_to_unicode(a.substring(1))}return a};